<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Lux Meet â€¢ Live</title>

  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, viewport-fit=cover"
  />

  <meta name="theme-color" content="#000000" />

  <!-- CSS -->
  <link rel="stylesheet" href="live-room.css" />
</head>

<body>

<!-- ================= LOADING ================= -->
<div id="loading" class="loading-screen">
  <div class="spinner"></div>
  <p>Entrando na live...</p>
</div>

<!-- ================= APP ================= -->
<div id="app" class="app hidden">

  <!-- ================= HEADER ================= -->
  <header class="live-header">

    <div class="header-left">
      <div class="host-info">
        <img id="hostAvatar" class="host-avatar" />
        <div class="host-meta">
          <span id="hostName" class="host-name">Host</span>
          <small id="liveTitle" class="live-title"></small>
        </div>
      </div>
    </div>

    <div class="header-right">
      <div id="viewerCount" class="viewer-count">
        ğŸ‘ <span>0</span>
      </div>

      <button id="leaveBtn" class="leave-btn">
        âœ•
      </button>
    </div>

  </header>

  <!-- ================= STAGE ================= -->
  <main class="live-stage">

    <!-- ===== VIDEO LAYER ===== -->
    <section class="video-stage">
      <div id="videoContainer" class="video-container">
        <!-- Agora injeta o vÃ­deo aqui -->
      </div>
    </section>

    <!-- ===== OVERLAYS ===== -->
    <section class="live-overlays">

      <!-- System messages (ex: entrou na live) -->
      <div id="systemMessages" class="system-messages"></div>

      <!-- Floating chat -->
      <div class="chat-overlay">
        <div id="chatMessages" class="chat-messages"></div>
      </div>

      <!-- Floating actions (likes/gifts futuros) -->
      <div class="floating-actions">
        <button class="action-btn like-btn">â¤ï¸</button>
        <button class="action-btn gift-btn">ğŸ</button>
      </div>

    </section>


    <section class="live-gifts">
  <div class="gifts-list" id="giftsList"></div>
</section>




  </main>


  <div id="liveSummary" class="summary-screen hidden">
  <h2>Live encerrada ğŸ‰</h2>

  <p>ğŸ‘ Espectadores: <span id="sumViewers"></span></p>
  <p>ğŸ’° Total ganho: <span id="sumTotal"></span> coins</p>

  <h3>ğŸ† Top Gifters</h3>
  <ul id="topGifters"></ul>

  <h3>ğŸ Presentes recebidos</h3>
  <div id="giftThumbs" class="gift-thumbs"></div>

  <button onclick="location.href='lux-meet-live.html'">OK</button>
</div>

  <!-- ================= FOOTER / CHAT INPUT ================= -->
  <footer class="live-footer">

    <form id="chatForm" class="chat-form">
      <input
        id="chatInput"
        type="text"
        placeholder="Diga algo legal..."
        autocomplete="off"
      />
      <button type="submit" class="send-btn">
        â¤
      </button>
    </form>

  </footer>

</div>
<div id="endLiveModal" class="modal hidden">
  <div class="modal-box">
    <h3>Encerrar live?</h3>
    <p>
      ğŸ‘ <strong id="modalViewerCount">0</strong> espectadores assistindo
    </p>

    <div class="modal-actions">
      <button id="cancelEndLive">Cancelar</button>
      <button id="confirmEndLive" class="danger">Encerrar</button>
    </div>
  </div>
</div>
<div id="liveSummary" class="live-summary hidden">
  <div class="summary-card">
    <h2>ğŸ“Š Live Finalizada</h2>

    <div class="summary-stats">
      <div class="stat">
        <span>ğŸ‘</span>
        <strong id="sumViewers">0</strong>
        <small>Espectadores</small>
      </div>

      <div class="stat">
        <span>ğŸ’°</span>
        <strong id="sumCoins">0</strong>
        <small>Coins ganhos</small>
      </div>
    </div>

    <h3>ğŸ† Top Apoiadores</h3>
    <div id="topGifters" class="top-gifters"></div>

    <button class="summary-btn" id="closeSummaryBtn">
      OK
    </button>
  </div>
</div>

<!-- ================= MODALS (FUTURO) ================= -->
<div id="modalRoot">
  <!-- gifts, ranking, perfil -->
</div>

<!-- ================= SCRIPTS ================= -->

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

<!-- AGORA SDK -->
<script src="https://download.agora.io/sdk/release/AgoraRTC_N.js"></script>

<!-- APP -->
<script src="live-room.js"></script>

</body>
</html>
