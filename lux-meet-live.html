<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lux Meet Live - Plataforma de Live Streaming Social</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- SweetAlert2 para modais bonitos -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    
    <!-- CSS Principal -->
    <link rel="stylesheet" href="lux-meet-live.css">
    
    <style>
        /* Estilos adicionais inline para garantir funcionamento */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #f8fafc;
            min-height: 100vh;
        }
        
        .hidden {
            display: none !important;
        }
        
        /* Animações */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        .slide-in {
            animation: slideIn 0.3s ease-out;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="lux-loading-screen">
        <div class="lux-loading-content">
            <div class="lux-spinner">
                <i class="fas fa-broadcast-tower"></i>
            </div>
            <h2>Lux Meet Live</h2>
            <p>Carregando plataforma...</p>
        </div>
    </div>

    <!-- Aplicação Principal -->
    <div class="lux-live-app" style="display: none;">
        <!-- Header -->
        <header class="lux-live-header">
            <div class="lux-live-brand">
                <h1><i class="fas fa-broadcast-tower"></i> Lux Meet Live</h1>
                <p class="lux-tagline">Conectando pessoas através do vídeo</p>
            </div>
            
            <div class="lux-live-nav">
                <button class="lux-nav-btn" id="homeBtn" title="Início">
                    <i class="fas fa-home"></i>
                    <span>Início</span>
                </button>
                
                <button class="lux-nav-btn" id="notificationsBtn" title="Notificações">
                    <i class="fas fa-bell"></i>
                    <span id="notificationCount">0</span>
                </button>
                
                <button class="lux-nav-btn" id="friendsBtn" title="Amigos">
                    <i class="fas fa-user-friends"></i>
                    <span>Amigos</span>
                </button>
                
                <button class="lux-nav-btn" id="missionsBtn" title="Missões">
                    <i class="fas fa-tasks"></i>
                    <span>Missões</span>
                </button>
                
                <button class="lux-nav-btn" id="battleBtn" title="Batalhas">
                    <i class="fas fa-trophy"></i>
                    <span>Batalhas</span>
                </button>
            </div>
            
            <div class="lux-live-user">
                <div class="lux-user-balance">
                    <div class="lux-balance-item">
                        <i class="fas fa-wallet"></i>
                        <span>R$ <span id="userBalance">0.00</span></span>
                    </div>
                    <div class="lux-balance-item">
                        <i class="fas fa-gem"></i>
                        <span id="userDiamonds">0</span>
                    </div>
                    <button class="lux-btn lux-btn-small lux-btn-gold" id="addFundsBtn">
                        <i class="fas fa-plus"></i> Add
                    </button>
                </div>
                
                <div class="lux-user-profile">
                    <img id="userAvatar" src="https://via.placeholder.com/40" alt="Avatar" class="lux-user-avatar">
                    <div class="lux-user-info">
                        <span id="userName" class="lux-user-name">Usuário</span>
                        <small id="userLevel" class="lux-user-level">Nível 1</small>
                    </div>
                    <button class="lux-dropdown-btn" id="userMenuBtn">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    
                    <!-- Dropdown Menu do Usuário -->
                    <div class="lux-dropdown-menu" id="userDropdown">
                        <a href="#" class="lux-dropdown-item">
                            <i class="fas fa-user"></i> Meu Perfil
                        </a>
                        <a href="#" class="lux-dropdown-item" id="myEarningsBtn">
                            <i class="fas fa-money-bill-wave"></i> Meus Ganhos
                        </a>
                        <a href="#" class="lux-dropdown-item">
                            <i class="fas fa-cog"></i> Configurações
                        </a>
                        <a href="#" class="lux-dropdown-item">
                            <i class="fas fa-question-circle"></i> Ajuda
                        </a>
                        <div class="lux-dropdown-divider"></div>
                        <a href="#" class="lux-dropdown-item" id="logoutBtn">
                            <i class="fas fa-sign-out-alt"></i> Sair
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <!-- Container Principal -->
        <div class="lux-live-container">
            <!-- Sidebar -->
            <aside class="lux-live-sidebar">
                <!-- Criar Live -->
                <div class="lux-sidebar-section">
                    <button id="createLiveBtn" class="lux-btn lux-btn-primary lux-btn-block">
                        <i class="fas fa-video"></i> Criar Live
                    </button>
                </div>
                
                <!-- Categorias -->
                <div class="lux-sidebar-section">
                    <h3 class="lux-section-title">
                        <i class="fas fa-filter"></i> Categorias
                    </h3>
                    <div class="lux-categories-list">
                        <button class="lux-category-btn active" data-category="all">
                            <i class="fas fa-globe"></i> Todas
                        </button>
                        <button class="lux-category-btn" data-category="social">
                            <i class="fas fa-users"></i> Social
                        </button>
                        <button class="lux-category-btn" data-category="dating">
                            <i class="fas fa-heart"></i> Encontros
                        </button>
                        <button class="lux-category-btn" data-category="entertainment">
                            <i class="fas fa-gamepad"></i> Entretenimento
                        </button>
                        <button class="lux-category-btn" data-category="music">
                            <i class="fas fa-music"></i> Música
                        </button>
                        <button class="lux-category-btn" data-category="gaming">
                            <i class="fas fa-headset"></i> Gaming
                        </button>
                        <button class="lux-category-btn" data-category="exclusive">
                            <i class="fas fa-crown"></i> Exclusivo
                        </button>
                    </div>
                </div>
                
                <!-- Filtros -->
                <div class="lux-sidebar-section">
                    <h3 class="lux-section-title">
                        <i class="fas fa-sliders-h"></i> Filtros
                    </h3>
                    <div class="lux-filters">
                        <label class="lux-checkbox">
                            <input type="checkbox" id="filterFree" checked>
                            <span>Gratuitas</span>
                        </label>
                        <label class="lux-checkbox">
                            <input type="checkbox" id="filterPaid" checked>
                            <span>Pagas</span>
                        </label>
                        <label class="lux-checkbox">
                            <input type="checkbox" id="filterMultiHost">
                            <span>Multi-hospede</span>
                        </label>
                        <label class="lux-checkbox">
                            <input type="checkbox" id="filterVerified">
                            <span>Criadores Verificados</span>
                        </label>
                    </div>
                </div>
                
                <!-- Amigos Online -->
                <div class="lux-sidebar-section">
                    <h3 class="lux-section-title">
                        <i class="fas fa-user-friends"></i> Amigos Online
                        <span class="lux-badge" id="onlineFriendsCount">0</span>
                    </h3>
                    <div class="lux-friends-list" id="friendsList">
                        <!-- Lista de amigos será carregada aqui -->
                        <div class="lux-no-friends">
                            <i class="fas fa-user-plus"></i>
                            <p>Adicione amigos para ver quem está online</p>
                        </div>
                    </div>
                </div>
                
                <!-- Informações da Plataforma -->
                <div class="lux-sidebar-section">
                    <div class="lux-platform-info">
                        <div class="lux-info-item">
                            <i class="fas fa-eye"></i>
                            <div>
                                <span class="lux-info-label">Total Online</span>
                                <span class="lux-info-value" id="totalOnline">0</span>
                            </div>
                        </div>
                        <div class="lux-info-item">
                            <i class="fas fa-broadcast-tower"></i>
                            <div>
                                <span class="lux-info-label">Lives Ativas</span>
                                <span class="lux-info-value" id="activeLivesCount">0</span>
                            </div>
                        </div>
                        <div class="lux-info-item">
                            <i class="fas fa-gift"></i>
                            <div>
                                <span class="lux-info-label">Presentes Hoje</span>
                                <span class="lux-info-value" id="todayGifts">0</span>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Conteúdo Principal -->
            <main class="lux-live-main">
                <!-- Player de Live (inicialmente oculto) -->
                <div id="livePlayer" class="lux-live-player hidden">
                    <div class="lux-player-container">
                        <!-- Header do Player -->
                        <div class="lux-player-header">
                            <div class="lux-player-title">
                                <h2 id="livePlayerTitle">Título da Live</h2>
                                <div class="lux-player-meta">
                                    <span class="lux-live-badge" id="liveBadge">AO VIVO</span>
                                    <span class="lux-live-category" id="liveCategoryBadge">Social</span>
                                </div>
                            </div>
                            <div class="lux-player-actions">
                                <button class="lux-btn lux-btn-secondary" id="shareLiveBtn">
                                    <i class="fas fa-share-alt"></i> Compartilhar
                                </button>
                                <button class="lux-btn lux-btn-secondary" id="reportLiveBtn">
                                    <i class="fas fa-flag"></i> Denunciar
                                </button>
                                <button class="lux-btn lux-btn-danger" id="exitLiveBtn">
                                    <i class="fas fa-times"></i> Sair
                                </button>
                            </div>
                        </div>
                        
                        <!-- Container de Vídeo -->
                       <!-- Atualize o container de vídeo no lux-meet-live.html -->

<div class="lux-video-container">
    <!-- Vídeo principal -->
    <video id="liveVideo" autoplay playsinline class="loading"></video>
    
    <!-- Vídeo local (para host/cohost) -->
    <video id="localVideo" autoplay playsinline muted></video>
    
    <!-- Placeholder quando não há vídeo -->
    <div class="video-placeholder" id="videoPlaceholder">
        <i class="fas fa-broadcast-tower"></i>
        <h3>Aguardando transmissão</h3>
        <p>A live começará em breve</p>
    </div>
    
    <!-- Status do streaming -->
    <div class="lux-stream-status" id="streamStatus">
        <div class="lux-status-indicator" id="statusIndicator"></div>
        <span id="statusText">Conectando...</span>
    </div>
    
    <!-- Controles de vídeo -->
    <div class="lux-video-controls">
        <button class="lux-control-btn" id="toggleVideoBtn" title="Ativar/Desativar Câmera">
            <i class="fas fa-video"></i>
        </button>
        <button class="lux-control-btn" id="toggleAudioBtn" title="Ativar/Desativar Microfone">
            <i class="fas fa-microphone"></i>
        </button>
        <button class="lux-control-btn" id="toggleFullscreenBtn" title="Tela Cheia">
            <i class="fas fa-expand"></i>
        </button>
    </div>
</div>
                        
                        <!-- Chat da Live -->
                        <div class="lux-live-chat">
                            <div class="lux-chat-header">
                                <h3>
                                    <i class="fas fa-comments"></i>
                                    Chat da Live
                                    <span class="lux-badge" id="chatUserCount">0</span>
                                </h3>
                                <button class="lux-btn lux-btn-small lux-btn-secondary" id="clearChatBtn">
                                    Limpar
                                </button>
                            </div>
                            
                            <div class="lux-chat-messages" id="liveChatMessages">
                                <!-- Mensagens do chat serão carregadas aqui -->
                                <div class="lux-chat-welcome">
                                    <i class="fas fa-comment-dots"></i>
                                    <p>Seja bem-vindo ao chat da live!<br>Se comporte com respeito.</p>
                                </div>
                            </div>
                            
                            <div class="lux-chat-input-container">
                                <div class="lux-chat-input-actions">
                                    <button class="lux-chat-action-btn" id="toggleEmojiBtn" title="Emojis">
                                        <i class="far fa-smile"></i>
                                    </button>
                                    <button class="lux-chat-action-btn" id="toggleGiftsBtn" title="Presentes">
                                        <i class="fas fa-gift"></i>
                                    </button>
                                    <button class="lux-chat-action-btn" id="togglePrivateChatBtn" title="Chat Privado">
                                        <i class="fas fa-lock"></i>
                                    </button>
                                </div>
                                <input type="text" 
                                       id="liveChatInput" 
                                       placeholder="Digite sua mensagem..." 
                                       maxlength="200"
                                       autocomplete="off">
                                <button class="lux-btn lux-btn-primary" id="sendLiveChatBtn">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                            
                            <!-- Ações Rápidas -->
                            <div class="lux-quick-actions">
                                <button class="lux-quick-btn" id="likeLiveBtn">
                                    <i class="fas fa-heart"></i> Curtir
                                </button>
                                <button class="lux-quick-btn" id="sendGiftBtn">
                                    <i class="fas fa-gift"></i> Presentear
                                </button>
                                <button class="lux-quick-btn" id="inviteFriendBtn">
                                    <i class="fas fa-user-plus"></i> Convidar
                                </button>
                                <button class="lux-quick-btn" id="requestCoHostBtn">
                                    <i class="fas fa-user-tie"></i> Co-host
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Grade de Lives (inicialmente visível) -->
                <div id="liveGrid" class="lux-live-grid">
                    <!-- Barra de Pesquisa e Filtros -->
                    <div class="lux-grid-header">
                        <div class="lux-search-container">
                            <i class="fas fa-search"></i>
                            <input type="text" 
                                   id="liveSearchInput" 
                                   placeholder="Pesquisar lives, criadores..."
                                   autocomplete="off">
                        </div>
                        
                        <div class="lux-grid-filters">
                            <select id="sortBySelect" class="lux-select">
                                <option value="viewers">Mais assistidos</option>
                                <option value="newest">Mais recentes</option>
                                <option value="ending">Terminando logo</option>
                                <option value="trending">Em alta</option>
                            </select>
                            
                            <button class="lux-btn lux-btn-secondary" id="refreshLivesBtn">
                                <i class="fas fa-sync-alt"></i> Atualizar
                            </button>
                        </div>
                    </div>
                    
                    <!-- Banner de Destaque -->
                    <div class="lux-featured-banner">
                        <div class="lux-banner-content">
                            <h2>Lives em Destaque</h2>
                            <p>As transmissões mais populares do momento</p>
                        </div>
                        <div class="lux-banner-stats">
                            <div class="lux-stat">
                                <i class="fas fa-users"></i>
                                <span>+10K Online</span>
                            </div>
                            <div class="lux-stat">
                                <i class="fas fa-gift"></i>
                                <span>+5K Presentes Hoje</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Container das Lives -->
                    <div class="lux-grid-container" id="liveGridContainer">
                        <!-- Cards de lives serão inseridos aqui pelo JavaScript -->
                        <div class="lux-loading-lives">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Carregando lives...</p>
                        </div>
                    </div>
                    
                    <!-- Paginação -->
                    <div class="lux-pagination">
                        <button class="lux-pagination-btn" id="prevPageBtn" disabled>
                            <i class="fas fa-chevron-left"></i> Anterior
                        </button>
                        <span class="lux-page-info">Página <span id="currentPage">1</span></span>
                        <button class="lux-pagination-btn" id="nextPageBtn">
                            Próxima <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </main>
        </div>

        <!-- Modal para Criar Live -->
        <div id="createLiveModal" class="lux-modal">
            <div class="lux-modal-content">
                <div class="lux-modal-header">
                    <h2><i class="fas fa-video"></i> Criar Nova Live</h2>
                    <button class="lux-modal-close">&times;</button>
                </div>
                
                <div class="lux-modal-body">
                    <form id="createLiveForm">
                        <!-- Configuração Básica -->
                        <div class="lux-form-section">
                            <h3><i class="fas fa-cog"></i> Configuração Básica</h3>
                            
                            <div class="lux-form-group">
                                <label for="liveTitle">
                                    <i class="fas fa-heading"></i> Título da Live
                                </label>
                                <input type="text" 
                                       id="liveTitle" 
                                       required 
                                       maxlength="100" 
                                       placeholder="Dê um título atrativo para sua live">
                                <small class="lux-form-help">Máximo 100 caracteres</small>
                            </div>
                            
                            <div class="lux-form-group">
                                <label for="liveDescription">
                                    <i class="fas fa-align-left"></i> Descrição
                                </label>
                                <textarea id="liveDescription" 
                                          rows="3" 
                                          placeholder="Descreva o que vai acontecer na sua live"></textarea>
                                <small class="lux-form-help">Conte aos espectadores o que eles podem esperar</small>
                            </div>
                            
                            <div class="lux-form-row">
                                <div class="lux-form-group">
                                    <label for="liveCategory">
                                        <i class="fas fa-tag"></i> Categoria
                                    </label>
                                    <select id="liveCategory" required>
                                        <option value="social">Social</option>
                                        <option value="dating">Encontros</option>
                                        <option value="entertainment">Entretenimento</option>
                                        <option value="music">Música</option>
                                        <option value="gaming">Gaming</option>
                                        <option value="exclusive">Exclusivo</option>
                                    </select>
                                </div>
                                
                                <div class="lux-form-group">
                                    <label for="liveLanguage">
                                        <i class="fas fa-language"></i> Idioma
                                    </label>
                                    <select id="liveLanguage">
                                        <option value="pt">Português</option>
                                        <option value="en">Inglês</option>
                                        <option value="es">Espanhol</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Configurações de Privacidade -->
                        <div class="lux-form-section">
                            <h3><i class="fas fa-lock"></i> Privacidade e Acesso</h3>
                            
                            <div class="lux-form-group">
                                <label for="livePrivacy">
                                    <i class="fas fa-globe"></i> Tipo de Live
                                </label>
                                <select id="livePrivacy" required>
                                    <option value="public">Pública (Todos podem assistir)</option>
                                    <option value="followers">Apenas Seguidores</option>
                                    <option value="ticket">Paga por Ticket</option>
                                    <option value="subscription">Apenas Assinantes</option>
                                    <option value="private">Privada (Convidados)</option>
                                </select>
                            </div>
                            
                            <!-- Configurações específicas por tipo -->
                            <div class="lux-privacy-options">
                                <!-- Ticket -->
                                <div class="lux-option-group" id="ticketOptions" style="display: none;">
                                    <div class="lux-form-row">
                                        <div class="lux-form-group">
                                            <label for="liveTicketPrice">
                                                <i class="fas fa-ticket-alt"></i> Preço do Ticket (diamantes)
                                            </label>
                                            <input type="number" 
                                                   id="liveTicketPrice" 
                                                   min="1" 
                                                   max="10000" 
                                                   step="1"
                                                   placeholder="Ex: 100">
                                            <small class="lux-form-help">
                                                Você recebe 70% do valor
                                            </small>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Subscription -->
                                <div class="lux-option-group" id="subscriptionOptions" style="display: none;">
                                    <div class="lux-form-group">
                                        <label>
                                            <i class="fas fa-crown"></i> Nível de Assinatura
                                        </label>
                                        <div class="lux-radio-group">
                                            <label class="lux-radio">
                                                <input type="radio" name="subscriptionTier" value="bronze" checked>
                                                <span class="lux-radio-label">
                                                    <span class="lux-tier-name">Bronze</span>
                                                    <span class="lux-tier-price">R$ 9,90/mês</span>
                                                    <small>50/50 de divisão</small>
                                                </span>
                                            </label>
                                            <label class="lux-radio">
                                                <input type="radio" name="subscriptionTier" value="silver">
                                                <span class="lux-radio-label">
                                                    <span class="lux-tier-name">Prata</span>
                                                    <span class="lux-tier-price">R$ 19,90/mês</span>
                                                    <small>60/40 a seu favor</small>
                                                </span>
                                            </label>
                                            <label class="lux-radio">
                                                <input type="radio" name="subscriptionTier" value="gold">
                                                <span class="lux-radio-label">
                                                    <span class="lux-tier-name">Ouro</span>
                                                    <span class="lux-tier-price">R$ 49,90/mês</span>
                                                    <small>70/30 a seu favor</small>
                                                </span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Private -->
                                <div class="lux-option-group" id="privateOptions" style="display: none;">
                                    <div class="lux-form-group">
                                        <label for="privateInvites">
                                            <i class="fas fa-user-plus"></i> Convidar Amigos
                                        </label>
                                        <select id="privateInvites" multiple style="height: 150px;">
                                            <!-- Amigos serão carregados aqui -->
                                            <option value="friend1">Amigo 1</option>
                                            <option value="friend2">Amigo 2</option>
                                        </select>
                                        <small class="lux-form-help">
                                            Selecione os amigos que podem assistir (Ctrl+click para múltiplos)
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Configurações Avançadas -->
                        <div class="lux-form-section">
                            <h3><i class="fas fa-sliders-h"></i> Configurações Avançadas</h3>
                            
                            <div class="lux-form-group">
                                <label class="lux-checkbox">
                                    <input type="checkbox" id="liveMultiHost">
                                    <span class="lux-checkbox-label">
                                        <strong>Modo Multi-hospede</strong>
                                        <small>Permitir que outras pessoas transmitam com você</small>
                                    </span>
                                </label>
                            </div>
                            
                            <div class="lux-form-group" id="maxCoHostsGroup" style="display: none;">
                                <label for="maxCoHosts">
                                    <i class="fas fa-users"></i> Máximo de Co-hosts
                                </label>
                                <select id="maxCoHosts">
                                    <option value="1">1 Co-host</option>
                                    <option value="2">2 Co-hosts</option>
                                    <option value="3">3 Co-hosts</option>
                                    <option value="4">4 Co-hosts</option>
                                </select>
                            </div>
                            
                            <div class="lux-form-group">
                                <label class="lux-checkbox">
                                    <input type="checkbox" id="liveChatEnabled" checked>
                                    <span class="lux-checkbox-label">
                                        <strong>Chat habilitado</strong>
                                        <small>Permitir que espectadores enviem mensagens</small>
                                    </span>
                                </label>
                            </div>
                            
                            <div class="lux-form-group">
                                <label class="lux-checkbox">
                                    <input type="checkbox" id="liveGiftsEnabled" checked>
                                    <span class="lux-checkbox-label">
                                        <strong>Presentes habilitados</strong>
                                        <small>Permitir que espectadores enviem presentes</small>
                                    </span>
                                </label>
                            </div>
                            
                            <div class="lux-form-group">
                                <label class="lux-checkbox">
                                    <input type="checkbox" id="liveRecordingEnabled">
                                    <span class="lux-checkbox-label">
                                        <strong>Gravar live</strong>
                                        <small>A live ficará disponível para replay</small>
                                    </span>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Preview da Live -->
                        <div class="lux-form-section">
                            <h3><i class="fas fa-eye"></i> Preview</h3>
                            <div class="lux-live-preview">
                                <div class="lux-preview-card">
                                    <div class="lux-preview-thumbnail">
                                        <div class="lux-preview-placeholder">
                                            <i class="fas fa-camera"></i>
                                            <p>Seu vídeo aparecerá aqui</p>
                                        </div>
                                    </div>
                                    <div class="lux-preview-info">
                                        <h4 id="previewTitle">Título da Live</h4>
                                        <p id="previewDescription">Descrição da live</p>
                                        <div class="lux-preview-meta">
                                            <span id="previewCategory">Categoria</span>
                                            <span id="previewPrivacy">Pública</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ações do Modal -->
                        <div class="lux-modal-actions">
                            <button type="button" class="lux-btn lux-btn-secondary" id="cancelCreateLive">
                                Cancelar
                            </button>
                            <button type="button" class="lux-btn lux-btn-secondary" id="saveAsDraftBtn">
                                Salvar Rascunho
                            </button>
                            <button type="submit" class="lux-btn lux-btn-primary">
                                <i class="fas fa-play"></i> Iniciar Live
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Modal de Presentes -->
        <div id="giftModal" class="lux-modal">
            <div class="lux-modal-content">
                <div class="lux-modal-header">
                    <h2><i class="fas fa-gifts"></i> Enviar Presente</h2>
                    <button class="lux-modal-close">&times;</button>
                </div>
                
                <div class="lux-modal-body">
                    <!-- Navegação de Categorias -->
                    <div class="lux-gift-categories">
                        <button class="lux-category-btn active" data-category="all">Todos</button>
                        <button class="lux-category-btn" data-category="popular">Populares</button>
                        <button class="lux-category-btn" data-category="exclusive">Exclusivos</button>
                        <button class="lux-category-btn" data-category="animated">Animados</button>
                        <button class="lux-category-btn" data-category="cheap">Econômicos</button>
                    </div>
                    
                    <!-- Lista de Presentes -->
                    <div class="lux-gifts-container" id="giftsContainer">
                        <!-- Presentes serão carregados aqui -->
                        <div class="lux-loading-gifts">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>Carregando presentes...</p>
                        </div>
                    </div>
                    
                    <!-- Balanço do Usuário -->
                    <div class="lux-gift-balance">
                        <div class="lux-balance-display">
                            <span>Seus diamantes:</span>
                            <strong id="modalDiamonds">0</strong>
                            <i class="fas fa-gem"></i>
                        </div>
                        <button class="lux-btn lux-btn-gold" id="buyMoreDiamondsBtn">
                            <i class="fas fa-plus"></i> Comprar Mais
                        </button>
                    </div>
                    
                    <!-- Ações -->
                    <div class="lux-modal-actions">
                        <button class="lux-btn lux-btn-secondary" id="cancelGiftBtn">
                            Cancelar
                        </button>
                        <button class="lux-btn lux-btn-primary" id="sendSelectedGiftBtn" disabled>
                            <i class="fas fa-gift"></i> Enviar Presente
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal de Comprar Diamantes -->
        <div id="buyDiamondsModal" class="lux-modal">
            <div class="lux-modal-content">
                <div class="lux-modal-header">
                    <h2><i class="fas fa-gem"></i> Comprar Diamantes</h2>
                    <button class="lux-modal-close">&times;</button>
                </div>
                
                <div class="lux-modal-body">
                    <div class="lux-diamond-packages">
                        <div class="lux-package-card" data-diamonds="100" data-price="4.90">
                            <div class="lux-package-header">
                                <i class="fas fa-gem"></i>
                                <h3>100 Diamantes</h3>
                            </div>
                            <div class="lux-package-price">
                                <span class="lux-price-old">R$ 9,90</span>
                                <span class="lux-price-new">R$ 4,90</span>
                            </div>
                            <div class="lux-package-bonus">
                                <small>+10 diamantes bônus</small>
                            </div>
                            <button class="lux-btn lux-btn-primary select-package-btn">
                                Selecionar
                            </button>
                        </div>
                        
                        <div class="lux-package-card lux-popular" data-diamonds="500" data-price="19.90">
                            <div class="lux-package-header">
                                <i class="fas fa-gem"></i>
                                <h3>500 Diamantes</h3>
                                <span class="lux-popular-badge">POPULAR</span>
                            </div>
                            <div class="lux-package-price">
                                <span class="lux-price-new">R$ 19,90</span>
                            </div>
                            <div class="lux-package-bonus">
                                <small>+100 diamantes bônus</small>
                            </div>
                            <button class="lux-btn lux-btn-gold select-package-btn">
                                Melhor Oferta
                            </button>
                        </div>
                        
                        <div class="lux-package-card" data-diamonds="1000" data-price="34.90">
                            <div class="lux-package-header">
                                <i class="fas fa-gem"></i>
                                <h3>1000 Diamantes</h3>
                            </div>
                            <div class="lux-package-price">
                                <span class="lux-price-old">R$ 49,90</span>
                                <span class="lux-price-new">R$ 34,90</span>
                            </div>
                            <div class="lux-package-bonus">
                                <small>+300 diamantes bônus</small>
                            </div>
                            <button class="lux-btn lux-btn-primary select-package-btn">
                                Selecionar
                            </button>
                        </div>
                        
                        <div class="lux-package-card lux-vip" data-diamonds="5000" data-price="149.90">
                            <div class="lux-package-header">
                                <i class="fas fa-crown"></i>
                                <h3>5000 Diamantes</h3>
                                <span class="lux-vip-badge">VIP</span>
                            </div>
                            <div class="lux-package-price">
                                <span class="lux-price-new">R$ 149,90</span>
                            </div>
                            <div class="lux-package-bonus">
                                <small>+2000 diamantes bônus</small>
                            </div>
                            <button class="lux-btn lux-btn-vip select-package-btn">
                                VIP
                            </button>
                        </div>
                    </div>
                    
                    <!-- Métodos de Pagamento -->
                    <div class="lux-payment-methods">
                        <h3>Método de Pagamento</h3>
                        <div class="lux-methods-grid">
                            <label class="lux-payment-method">
                                <input type="radio" name="paymentMethod" value="pix" checked>
                                <div class="lux-method-card">
                                    <i class="fas fa-qrcode"></i>
                                    <span>PIX</span>
                                    <small>Instantâneo</small>
                                </div>
                            </label>
                            
                            <label class="lux-payment-method">
                                <input type="radio" name="paymentMethod" value="credit">
                                <div class="lux-method-card">
                                    <i class="fas fa-credit-card"></i>
                                    <span>Cartão</span>
                                    <small>Crédito/Débito</small>
                                </div>
                            </label>
                            
                            <label class="lux-payment-method">
                                <input type="radio" name="paymentMethod" value="boleto">
                                <div class="lux-method-card">
                                    <i class="fas fa-barcode"></i>
                                    <span>Boleto</span>
                                    <small>Até 3 dias</small>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Resumo da Compra -->
                    <div class="lux-purchase-summary">
                        <div class="lux-summary-item">
                            <span>Diamantes:</span>
                            <span id="selectedDiamonds">0</span>
                        </div>
                        <div class="lux-summary-item">
                            <span>Bônus:</span>
                            <span id="selectedBonus">0</span>
                        </div>
                        <div class="lux-summary-item lux-total">
                            <span>Total:</span>
                            <span id="selectedTotal">R$ 0,00</span>
                        </div>
                    </div>
                    
                    <!-- Ações -->
                    <div class="lux-modal-actions">
                        <button class="lux-btn lux-btn-secondary" id="cancelPurchaseBtn">
                            Cancelar
                        </button>
                        <button class="lux-btn lux-btn-primary" id="confirmPurchaseBtn" disabled>
                            <i class="fas fa-lock"></i> Finalizar Compra
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal de Missões -->
        <div id="missionsModal" class="lux-modal">
            <div class="lux-modal-content">
                <div class="lux-modal-header">
                    <h2><i class="fas fa-tasks"></i> Missões Diárias</h2>
                    <button class="lux-modal-close">&times;</button>
                </div>
                
                <div class="lux-modal-body">
                    <!-- Progresso Diário -->
                    <div class="lux-daily-progress">
                        <h3>Progresso do Dia</h3>
                        <div class="lux-progress-bar">
                            <div class="lux-progress-fill" style="width: 30%"></div>
                        </div>
                        <div class="lux-progress-stats">
                            <span>3/10 missões completas</span>
                            <span>+150 diamantes</span>
                        </div>
                    </div>
                    
                    <!-- Lista de Missões -->
                    <div class="lux-missions-list" id="missionsList">
                        <!-- Missões serão carregadas aqui -->
                        <div class="lux-mission-item">
                            <div class="lux-mission-icon">
                                <i class="fas fa-eye"></i>
                            </div>
                            <div class="lux-mission-details">
                                <h4>Assistir 30 minutos de lives</h4>
                                <p>Assista qualquer live por pelo menos 30 minutos</p>
                                <div class="lux-mission-progress">
                                    <div class="lux-progress-bar small">
                                        <div class="lux-progress-fill" style="width: 60%"></div>
                                    </div>
                                    <span>18/30 min</span>
                                </div>
                            </div>
                            <div class="lux-mission-reward">
                                <span class="lux-reward-amount">+50</span>
                                <i class="fas fa-gem"></i>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recompensa Diária -->
                    <div class="lux-daily-reward">
                        <h3>Recompensa de Login Diário</h3>
                        <div class="lux-reward-calendar">
                            <!-- Dias da semana serão gerados aqui -->
                            <div class="lux-reward-day active">
                                <span>Dia 1</span>
                                <i class="fas fa-gem"></i>
                                <small>10</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal de Batalhas -->
        <div id="battleModal" class="lux-modal">
            <div class="lux-modal-content">
                <div class="lux-modal-header">
                    <h2><i class="fas fa-trophy"></i> Batalhas</h2>
                    <button class="lux-modal-close">&times;</button>
                </div>
                
                <div class="lux-modal-body">
                    <!-- Criar Batalha -->
                    <div class="lux-battle-create">
                        <h3>Iniciar Nova Batalha</h3>
                        <div class="lux-form-group">
                            <label for="battleDuration">Duração (minutos)</label>
                            <select id="battleDuration">
                                <option value="5">5 minutos</option>
                                <option value="10">10 minutos</option>
                                <option value="15">15 minutos</option>
                            </select>
                        </div>
                        <div class="lux-form-group">
                            <label for="battlePrize">Prêmio da Batalha (diamantes)</label>
                            <input type="number" id="battlePrize" min="100" value="500">
                        </div>
                        <button class="lux-btn lux-btn-primary" id="createBattleBtn">
                            <i class="fas fa-fist-raised"></i> Desafiar
                        </button>
                    </div>
                    
                    <!-- Batalhas Ativas -->
                    <div class="lux-active-battles">
                        <h3>Batalhas em Andamento</h3>
                        <div class="lux-battles-list" id="battlesList">
                            <!-- Batalhas serão carregadas aqui -->
                            <div class="lux-no-battles">
                                <i class="fas fa-trophy"></i>
                                <p>Nenhuma batalha ativa no momento</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal de Chat Privado -->
        <div id="privateChatModal" class="lux-modal">
            <div class="lux-modal-content">
                <div class="lux-modal-header">
                    <h2><i class="fas fa-lock"></i> Chat Privado</h2>
                    <button class="lux-modal-close">&times;</button>
                </div>
                
                <div class="lux-modal-body">
                    <!-- Solicitações Recebidas -->
                    <div class="lux-chat-requests">
                        <h3>Solicitações Recebidas</h3>
                        <div class="lux-requests-list" id="chatRequestsList">
                            <!-- Solicitações serão carregadas aqui -->
                        </div>
                    </div>
                    
                    <!-- Iniciar Chat -->
                    <div class="lux-start-chat">
                        <h3>Iniciar Chat Privado</h3>
                        <div class="lux-form-group">
                            <label for="chatFriendSelect">Selecionar Amigo</label>
                            <select id="chatFriendSelect">
                                <!-- Amigos serão carregados aqui -->
                            </select>
                        </div>
                        <div class="lux-form-group">
                            <label for="chatDuration">Duração (minutos)</label>
                            <select id="chatDuration">
                                <option value="5">5 minutos - 50 diamantes</option>
                                <option value="10">10 minutos - 90 diamantes</option>
                                <option value="15">15 minutos - 120 diamantes</option>
                            </select>
                        </div>
                        <button class="lux-btn lux-btn-primary" id="requestPrivateChatBtn">
                            <i class="fas fa-comment-dollar"></i> Solicitar Chat
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="lux-live-footer">
            <div class="lux-footer-content">
                <div class="lux-footer-section">
                    <h4>Lux Meet Live</h4>
                    <p>Plataforma de live streaming social</p>
                    <div class="lux-social-links">
                        <a href="#" class="lux-social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="lux-social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="lux-social-link"><i class="fab fa-discord"></i></a>
                        <a href="#" class="lux-social-link"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div class="lux-footer-section">
                    <h4>Recursos</h4>
                    <ul>
                        <li><a href="#">Como Funciona</a></li>
                        <li><a href="#">Tornar-se Criador</a></li>
                        <li><a href="#">Central de Ajuda</a></li>
                        <li><a href="#">Blog</a></li>
                    </ul>
                </div>
                
                <div class="lux-footer-section">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="#">Termos de Uso</a></li>
                        <li><a href="#">Política de Privacidade</a></li>
                        <li><a href="#">Diretrizes da Comunidade</a></li>
                        <li><a href="#">Pagamentos e Saques</a></li>
                    </ul>
                </div>
                
                <div class="lux-footer-section">
                    <h4>Contato</h4>
                    <ul>
                        <li><i class="fas fa-envelope"></i> suporte@luxmeet.com</li>
                        <li><i class="fas fa-phone"></i> (11) 99999-9999</li>
                        <li><i class="fas fa-map-marker-alt"></i> São Paulo, SP</li>
                    </ul>
                </div>
            </div>
            
            <div class="lux-footer-bottom">
                <p>&copy; 2024 Lux Meet Live. Todos os direitos reservados.</p>
                <div class="lux-footer-stats">
                    <span>Online: <strong id="footerOnline">0</strong></span>
                    <span>Lives: <strong id="footerLives">0</strong></span>
                    <span>Presentes hoje: <strong id="footerGifts">0</strong></span>
                </div>
            </div>
        </footer>

        <!-- Toast Notifications -->
        <div id="toastContainer"></div>

        <!-- Gift Animation Container -->
        <div id="giftAnimationContainer"></div>
    </div>

    <!-- Scripts -->
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-storage.js"></script>
    
    <!-- WebRTC Adapter -->
    <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
    
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <!-- Scripts da Aplicação -->
    <script>
        // Configuração do Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyA-7HOp-Ycvyf3b_03ev__8aJEwAbWSQZY",
            authDomain: "connectfamilia-312dc.firebaseapp.com",
            projectId: "connectfamilia-312dc",
            storageBucket: "connectfamilia-312dc.appspot.com",
            messagingSenderId: "797817838649",
            appId: "1:797817838649:web:1aa7c54abd97661f8d81e8",
            measurementId: "G-QKN9NFXZZQ"
        };
        
        // Inicializar Firebase
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
    </script>
    
    <script src="lux-meet-live.js"></script>
    
    <!-- Scripts de Inicialização -->
    <script>
        // Ocultar loading e mostrar aplicação após carregar
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                document.getElementById('loadingScreen').style.display = 'none';
                document.querySelector('.lux-live-app').style.display = 'block';
            }, 1000);
            
            // Inicializar tooltips
            document.querySelectorAll('[title]').forEach(element => {
                element.addEventListener('mouseenter', function(e) {
                    const tooltip = document.createElement('div');
                    tooltip.className = 'lux-tooltip';
                    tooltip.textContent = this.title;
                    document.body.appendChild(tooltip);
                    
                    const rect = this.getBoundingClientRect();
                    tooltip.style.left = (rect.left + rect.width/2 - tooltip.offsetWidth/2) + 'px';
                    tooltip.style.top = (rect.top - tooltip.offsetHeight - 10) + 'px';
                    
                    this._tooltip = tooltip;
                });
                
                element.addEventListener('mouseleave', function() {
                    if (this._tooltip) {
                        this._tooltip.remove();
                        delete this._tooltip;
                    }
                });
            });
            
            // Preview dinâmico do título da live
            const liveTitleInput = document.getElementById('liveTitle');
            const previewTitle = document.getElementById('previewTitle');
            
            if (liveTitleInput && previewTitle) {
                liveTitleInput.addEventListener('input', function() {
                    previewTitle.textContent = this.value || 'Título da Live';
                });
            }
            
            // Preview dinâmico da descrição
            const liveDescriptionInput = document.getElementById('liveDescription');
            const previewDescription = document.getElementById('previewDescription');
            
            if (liveDescriptionInput && previewDescription) {
                liveDescriptionInput.addEventListener('input', function() {
                    previewDescription.textContent = this.value || 'Descrição da live';
                });
            }
            
            // Preview dinâmico da categoria
            const liveCategorySelect = document.getElementById('liveCategory');
            const previewCategory = document.getElementById('previewCategory');
            
            if (liveCategorySelect && previewCategory) {
                liveCategorySelect.addEventListener('change', function() {
                    previewCategory.textContent = this.options[this.selectedIndex].text;
                });
            }
            
            // Toggle multi-host options
            const multiHostCheckbox = document.getElementById('liveMultiHost');
            const maxCoHostsGroup = document.getElementById('maxCoHostsGroup');
            
            if (multiHostCheckbox && maxCoHostsGroup) {
                multiHostCheckbox.addEventListener('change', function() {
                    maxCoHostsGroup.style.display = this.checked ? 'block' : 'none';
                });
            }
            
            // Toggle privacy options
            const privacySelect = document.getElementById('livePrivacy');
            
            if (privacySelect) {
                privacySelect.addEventListener('change', function() {
                    // Ocultar todos os grupos de opções
                    document.querySelectorAll('.lux-option-group').forEach(group => {
                        group.style.display = 'none';
                    });
                    
                    // Mostrar o grupo correspondente
                    const selectedValue = this.value;
                    if (selectedValue === 'ticket') {
                        document.getElementById('ticketOptions').style.display = 'block';
                    } else if (selectedValue === 'subscription') {
                        document.getElementById('subscriptionOptions').style.display = 'block';
                    } else if (selectedValue === 'private') {
                        document.getElementById('privateOptions').style.display = 'block';
                    }
                });
            }
        });
    </script>
</body>
</html>